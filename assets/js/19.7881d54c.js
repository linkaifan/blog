(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{197:function(t,s,a){"use strict";a.r(s);var i=a(0),r=Object(i.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h2",{attrs:{id:"history-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#history-对象","aria-hidden":"true"}},[t._v("#")]),t._v(" History 对象")]),t._v(" "),a("blockquote",[a("p",[t._v("window.history属性指向 History 对象，它表示当前窗口的浏览历史。History 对象保存了当前窗口访问过的所有页面网址。")])]),t._v(" "),a("p",[t._v("由于安全原因，浏览器不允许脚本读取这些地址，但是允许在地址之间导航。浏览器工具栏的“前进”和“后退”按钮，其实就是对 History 对象进行操作。")]),t._v(" "),a("h2",{attrs:{id:"属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),a("ul",[a("li",[t._v("History.length：当前窗口访问过的网址数量（包括当前网页）")]),t._v(" "),a("li",[t._v("History.state：History 堆栈最上层的状态值")])]),t._v(" "),a("h2",{attrs:{id:"方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),a("ul",[a("li",[t._v("History.back()：移动到上一个网址，等同于点击浏览器的后退键。对于第一个访问的网址，该方法无效果。")]),t._v(" "),a("li",[t._v("History.forward()：移动到下一个网址，等同于点击浏览器的前进键。对于最后一个访问的网址，该方法无效果。")]),t._v(" "),a("li",[t._v("History.go()：接受一个整数作为参数，以当前网址为基准，移动到参数指定的网址，比如go(1)相当于forward()，go(-1)相当于back()。如果参数超过实际存在的网址范围，该方法无效果；如果不指定参数，默认参数为0，相当于刷新当前页面。")])]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("移动到以前访问过的页面时，页面通常是从浏览器缓存之中加载，而不是重新要求服务器发送新的网页。")])]),t._v(" "),a("ul",[a("li",[t._v("History.pushState(state,title,url): 用于在历史中添加一条记录。pushState()方法不会触发页面刷新，只是导致 History 对象发生变化，地址栏会有反应。\n"),a("ol",[a("li",[t._v("state: 一个与添加的记录相关联的状态对象，主要用于popstate事件。该事件触发时，该对象会传入回调函数。也就是说，浏览器会将这个对象序列化以后保留在本地，重新载入这个页面的时候，可以拿到这个对象。如果不需要这个对象，此处可以填null。")]),t._v(" "),a("li",[t._v("title: 新页面的标题。但是，现在所有浏览器都忽视这个参数，所以这里可以填空字符串。")]),t._v(" "),a("li",[t._v("url: 新的网址，必须与当前页面处在同一个域。浏览器的地址栏将显示这个网址。")])])]),t._v(" "),a("li",[t._v("History.replaceState(): 用来修改 History 对象的当前记录")])]),t._v(" "),a("h2",{attrs:{id:"popstate-事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#popstate-事件","aria-hidden":"true"}},[t._v("#")]),t._v(" popstate 事件")]),t._v(" "),a("p",[t._v("每当history对象出现变化时，就会触发popstate事件。")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("仅仅调用pushState()方法或replaceState()方法 ，并不会触发该事件，只有用户点击浏览器倒退按钮和前进按钮，或者使用 JavaScript 调用History.back()、History.forward()、History.go()方法时才会触发。另外，该事件只针对同一个文档，如果浏览历史的切换，导致加载不同的文档，该事件也不会触发。")])]),t._v(" "),a("p",[t._v("回调函数的参数是一个event事件对象，它的state属性指向pushState和replaceState方法为当前 URL 所提供的状态对象")])])}],!1,null,null,null);r.options.__file="history.md";s.default=r.exports}}]);