(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{180:function(t,s,n){t.exports=n.p+"assets/img/lifecycle.6f2c97f0.png"},186:function(t,s,n){"use strict";n.r(s);var a=[function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"生命周期钩子函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期钩子函数","aria-hidden":"true"}},[this._v("#")]),this._v(" 生命周期钩子函数")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做生命周期钩子的函数")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:n(180),alt:"生命周期"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("beforeCreate\n组件示例刚被创建，组件属性计算之前，如data属性等（el和data并未初始化）（在实例初始化之后，数据观测 (data observer) 和 event/watcher 事件配置之前被调用。）（data和el都访问不到）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("created\n组件示例创建完成，属性已绑定，但DOM还未生成,$el属性还不存在（data完成初始化，el没有）（在实例创建完成后被立即调用。在这一步，实例已完成以下的配置：数据观测 (data observer)，属性和方法的运算，watch/event 事件回调。然而，挂载阶段还没开始，$el 属性目前不可见。）（data能访问得到，但el访问不到）")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"warning custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),n("p",[t._v("el对其影响：")]),t._v(" "),n("ul",[n("li",[t._v("如果el属性不存在,则不会触发beforeMount，mounted，但是有vm.$mount方法")]),t._v(" "),n("li",[t._v("如果el的值为不存在的dom,则报错，Cannot find element")]),t._v(" "),n("li",[t._v("如果el值为 el:'',不会报错，正常触发beforeMount，mounted。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("template对其影响：")]),this._v(" "),s("ul",[s("li",[this._v("如果template属性存在,直接用内部的，然后调用render函数去渲染。实例内部的template属性比外部的优先级高。")]),this._v(" "),s("li",[this._v("如果template属性不存在,就调用外部的html。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("beforeUpdate\n组件更新之前（数据更新时调用，发生在虚拟 DOM 打补丁之前。这里适合在更新之前访问现有的 DOM，比如手动移除已添加的事件监听器。）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("这个数据只有和模版中的数据绑定了才会发生更新。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"6"}},[s("li",[s("p",[this._v("updated\n组件更新之后（由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。）\n当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态。如果要相应状态改变，通常最好使用计算属性或 watcher 取而代之。）")])]),this._v(" "),s("li",[s("p",[this._v("beforeDestory\n组件销毁前调用，在这一步，实例仍然完全可用。")])]),this._v(" "),s("li",[s("p",[this._v("destoryed\n组件销毁后调用，调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"内部实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内部实现","aria-hidden":"true"}},[this._v("#")]),this._v(" 内部实现")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("  Vue"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("_init")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{attrs:{class:"token function"}},[t._v("initLifecycle")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{attrs:{class:"token function"}},[t._v("initEvents")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{attrs:{class:"token function"}},[t._v("initRender")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{attrs:{class:"token function"}},[t._v("callHook")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'beforeCreate'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 拿不到 props data")]),t._v("\n      "),n("span",{attrs:{class:"token function"}},[t._v("initInjections")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n      "),n("span",{attrs:{class:"token function"}},[t._v("initState")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{attrs:{class:"token function"}},[t._v("initProvide")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{attrs:{class:"token function"}},[t._v("callHook")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'created'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])])}],e=n(0),i=Object(e.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),n("ol",[t._m(3),t._v(" "),t._m(4),t._v(" "),n("li",[n("p",[t._v("beforeMount\n模板编译/挂载之前（完成el和data的初始化）（在挂载开始之前被调用：相关的 render 函数首次被调用。\n该钩子在服务器端渲染期间不被调用。）（el能读到dom，但还是"+t._s(t.msg)+"的状态）")])])]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),n("p",[t._v("实际上，vue实例中还有一种render选项。render函数 > template属性 > 外部html")]),t._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[n("p",[t._v("mounted\n模板编译，挂载之后（el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子。如果 root 实例挂载了一个文档内元素，当 mounted 被调用时 vm.$el 也在文档内。）（el的dom已经变成了 "+t._s(t.msg)+"=>msg对应的值 的状态）")])]),t._v(" "),t._m(7)]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),n("p",[t._v("在初始化Vue实例时，会调用以下代码，生命周期就是通过 callHook 调用的")]),t._v(" "),t._m(11),n("p",[t._v("initState()时props 或者 data 中的数据的初始化，所以在beforeCreate拿不到。")])])},a,!1,null,null,null);i.options.__file="生命周期.md";s.default=i.exports}}]);